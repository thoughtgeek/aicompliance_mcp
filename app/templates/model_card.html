<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ data.model_details.name if data.model_details and data.model_details.name else "AI Model Card" }}</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            color: #333;
        }
        h1, h2, h3, h4 {
            color: #2c3e50;
            margin-top: 1.5em;
        }
        h1 {
            text-align: center;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        .metadata {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 4px;
            margin-bottom: 25px;
        }
        .section {
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        th, td {
            padding: 10px;
            border: 1px solid #ddd;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
        .footer {
            text-align: center;
            margin-top: 40px;
            font-size: 0.9em;
            color: #7f8c8d;
        }
        .compliance-label {
            display: inline-block;
            margin-right: 10px;
            padding: 5px 10px;
            border-radius: 4px;
            background-color: #e0f7fa;
            color: #0288d1;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="document">
        <h1>EU AI Act Model Card</h1>
        
        <div class="metadata">
            <p><strong>Generated:</strong> {{ generated_at.strftime('%Y-%m-%d %H:%M') }}</p>
            <p><strong>Document Version:</strong> {{ version }}</p>
        </div>
        
        <!-- Model Details Section -->
        <div class="section" id="model-details">
            <h2>1. Model Details</h2>
            {% if data.model_details %}
            <table>
                <tr>
                    <th>Name</th>
                    <td>{{ data.model_details.name }}</td>
                </tr>
                <tr>
                    <th>Version</th>
                    <td>{{ data.model_details.version }}</td>
                </tr>
                <tr>
                    <th>Description</th>
                    <td>{{ data.model_details.description }}</td>
                </tr>
                {% if data.model_details.framework %}
                <tr>
                    <th>Framework</th>
                    <td>{{ data.model_details.framework }}</td>
                </tr>
                {% endif %}
                {% if data.model_details.license %}
                <tr>
                    <th>License</th>
                    <td>{{ data.model_details.license }}</td>
                </tr>
                {% endif %}
            </table>
            {% else %}
            <p><em>No model details provided.</em></p>
            {% endif %}
        </div>
        
        <!-- Intended Use Section -->
        <div class="section" id="intended-use">
            <h2>2. Intended Use</h2>
            {% if data.intended_use %}
            <table>
                <tr>
                    <th>Primary Purpose</th>
                    <td>{{ data.intended_use.primary_purpose }}</td>
                </tr>
                <tr>
                    <th>Intended Users</th>
                    <td>
                        {% if data.intended_use.intended_users %}
                            <ul>
                                {% for user in data.intended_use.intended_users %}
                                <li>{{ user }}</li>
                                {% endfor %}
                            </ul>
                        {% else %}
                            <em>Not specified</em>
                        {% endif %}
                    </td>
                </tr>
                <tr>
                    <th>Use Cases</th>
                    <td>
                        {% if data.intended_use.use_cases %}
                            <ul>
                                {% for case in data.intended_use.use_cases %}
                                <li>{{ case }}</li>
                                {% endfor %}
                            </ul>
                        {% else %}
                            <em>Not specified</em>
                        {% endif %}
                    </td>
                </tr>
                <tr>
                    <th>Out-of-Scope Uses</th>
                    <td>
                        {% if data.intended_use.out_of_scope_uses %}
                            <ul>
                                {% for out_of_scope in data.intended_use.out_of_scope_uses %}
                                <li>{{ out_of_scope }}</li>
                                {% endfor %}
                            </ul>
                        {% else %}
                            <em>Not specified</em>
                        {% endif %}
                    </td>
                </tr>
            </table>
            {% else %}
            <p><em>No intended use information provided.</em></p>
            {% endif %}
        </div>
        
        <!-- Risk Assessment Section -->
        <div class="section" id="risk-assessment">
            <h2>3. Risk Assessment</h2>
            {% if data.risk_assessment %}
            <table>
                <tr>
                    <th>Risk Category</th>
                    <th>Description</th>
                    <th>Mitigation Strategy</th>
                </tr>
                {% for risk in data.risk_assessment.risks %}
                <tr>
                    <td>{{ risk.category }}</td>
                    <td>{{ risk.description }}</td>
                    <td>{{ risk.mitigation }}</td>
                </tr>
                {% endfor %}
            </table>
            
            {% if data.risk_assessment.residual_risks %}
            <h3>Residual Risks</h3>
            <p>{{ data.risk_assessment.residual_risks }}</p>
            {% endif %}
            
            {% else %}
            <p><em>No risk assessment information provided.</em></p>
            {% endif %}
        </div>
        
        <!-- Performance Metrics Section -->
        <div class="section" id="performance-metrics">
            <h2>4. Performance Metrics</h2>
            {% if data.performance_metrics %}
            <table>
                <tr>
                    <th>Metric Name</th>
                    <th>Value</th>
                    <th>Dataset/Context</th>
                </tr>
                {% for metric in data.performance_metrics.metrics %}
                <tr>
                    <td>{{ metric.name }}</td>
                    <td>{{ metric.value }}</td>
                    <td>{{ metric.context }}</td>
                </tr>
                {% endfor %}
            </table>
            
            {% if data.performance_metrics.evaluation_datasets %}
            <h3>Evaluation Datasets</h3>
            <ul>
                {% for dataset in data.performance_metrics.evaluation_datasets %}
                <li>
                    <strong>{{ dataset.name }}</strong>: {{ dataset.description }}
                    {% if dataset.link %}<br>Link: <a href="{{ dataset.link }}">{{ dataset.link }}</a>{% endif %}
                </li>
                {% endfor %}
            </ul>
            {% endif %}
            
            {% else %}
            <p><em>No performance metrics provided.</em></p>
            {% endif %}
        </div>
        
        <!-- Training Data Section -->
        <div class="section" id="training-data">
            <h2>5. Training Data</h2>
            {% if data.training_data %}
            <table>
                <tr>
                    <th>Dataset Name</th>
                    <td>{{ data.training_data.dataset_name }}</td>
                </tr>
                <tr>
                    <th>Description</th>
                    <td>{{ data.training_data.description }}</td>
                </tr>
                {% if data.training_data.source %}
                <tr>
                    <th>Source</th>
                    <td>{{ data.training_data.source }}</td>
                </tr>
                {% endif %}
                {% if data.training_data.preprocessing %}
                <tr>
                    <th>Preprocessing</th>
                    <td>{{ data.training_data.preprocessing }}</td>
                </tr>
                {% endif %}
            </table>
            
            {% if data.training_data.data_splits %}
            <h3>Data Splits</h3>
            <table>
                <tr>
                    <th>Split</th>
                    <th>Size</th>
                    <th>Purpose</th>
                </tr>
                {% for split in data.training_data.data_splits %}
                <tr>
                    <td>{{ split.name }}</td>
                    <td>{{ split.size }}</td>
                    <td>{{ split.purpose }}</td>
                </tr>
                {% endfor %}
            </table>
            {% endif %}
            
            {% else %}
            <p><em>No training data information provided.</em></p>
            {% endif %}
        </div>
        
        <!-- Technical Specifications Section -->
        <div class="section" id="technical-specifications">
            <h2>6. Technical Specifications</h2>
            {% if data.technical_specifications %}
            <table>
                {% if data.technical_specifications.model_architecture %}
                <tr>
                    <th>Model Architecture</th>
                    <td>{{ data.technical_specifications.model_architecture }}</td>
                </tr>
                {% endif %}
                {% if data.technical_specifications.parameters %}
                <tr>
                    <th>Parameters</th>
                    <td>{{ data.technical_specifications.parameters }}</td>
                </tr>
                {% endif %}
                {% if data.technical_specifications.input_format %}
                <tr>
                    <th>Input Format</th>
                    <td>{{ data.technical_specifications.input_format }}</td>
                </tr>
                {% endif %}
                {% if data.technical_specifications.output_format %}
                <tr>
                    <th>Output Format</th>
                    <td>{{ data.technical_specifications.output_format }}</td>
                </tr>
                {% endif %}
                {% if data.technical_specifications.dependencies %}
                <tr>
                    <th>Dependencies</th>
                    <td>
                        <ul>
                            {% for dependency in data.technical_specifications.dependencies %}
                            <li>{{ dependency }}</li>
                            {% endfor %}
                        </ul>
                    </td>
                </tr>
                {% endif %}
            </table>
            {% else %}
            <p><em>No technical specifications provided.</em></p>
            {% endif %}
        </div>
        
        <!-- Human Oversight Section -->
        <div class="section" id="human-oversight">
            <h2>7. Human Oversight</h2>
            {% if data.human_oversight %}
            <table>
                <tr>
                    <th>Oversight Measures</th>
                    <td>
                        {% if data.human_oversight.measures %}
                            <ul>
                                {% for measure in data.human_oversight.measures %}
                                <li>{{ measure }}</li>
                                {% endfor %}
                            </ul>
                        {% else %}
                            <em>Not specified</em>
                        {% endif %}
                    </td>
                </tr>
                {% if data.human_oversight.human_in_loop_points %}
                <tr>
                    <th>Human-in-the-Loop Points</th>
                    <td>{{ data.human_oversight.human_in_loop_points }}</td>
                </tr>
                {% endif %}
                {% if data.human_oversight.monitoring %}
                <tr>
                    <th>Monitoring Procedures</th>
                    <td>{{ data.human_oversight.monitoring }}</td>
                </tr>
                {% endif %}
            </table>
            {% else %}
            <p><em>No human oversight information provided.</em></p>
            {% endif %}
        </div>
        
        <!-- Compliance Information Section -->
        <div class="section" id="compliance-information">
            <h2>8. Compliance Information</h2>
            {% if data.compliance_information %}
            <div>
                {% if data.compliance_information.eu_ai_act_classification %}
                <p><strong>EU AI Act Classification:</strong> 
                    <span class="compliance-label">{{ data.compliance_information.eu_ai_act_classification }}</span>
                </p>
                {% endif %}
                
                {% if data.compliance_information.standards %}
                <h3>Applicable Standards</h3>
                <ul>
                    {% for standard in data.compliance_information.standards %}
                    <li>{{ standard.name }}: {{ standard.description }}</li>
                    {% endfor %}
                </ul>
                {% endif %}
                
                {% if data.compliance_information.impact_assessments %}
                <h3>Impact Assessments</h3>
                <table>
                    <tr>
                        <th>Type</th>
                        <th>Date</th>
                        <th>Summary</th>
                    </tr>
                    {% for assessment in data.compliance_information.impact_assessments %}
                    <tr>
                        <td>{{ assessment.type }}</td>
                        <td>{{ assessment.date }}</td>
                        <td>{{ assessment.summary }}</td>
                    </tr>
                    {% endfor %}
                </table>
                {% endif %}
            </div>
            {% else %}
            <p><em>No compliance information provided.</em></p>
            {% endif %}
        </div>
        
        <!-- Contact Information Section -->
        <div class="section" id="contact-information">
            <h2>9. Contact Information</h2>
            {% if data.contact_information %}
            <table>
                {% if data.contact_information.developer %}
                <tr>
                    <th>Developer</th>
                    <td>{{ data.contact_information.developer }}</td>
                </tr>
                {% endif %}
                {% if data.contact_information.contact_email %}
                <tr>
                    <th>Contact Email</th>
                    <td>{{ data.contact_information.contact_email }}</td>
                </tr>
                {% endif %}
                {% if data.contact_information.website %}
                <tr>
                    <th>Website</th>
                    <td><a href="{{ data.contact_information.website }}">{{ data.contact_information.website }}</a></td>
                </tr>
                {% endif %}
            </table>
            {% else %}
            <p><em>No contact information provided.</em></p>
            {% endif %}
        </div>
        
        <!-- Footer -->
        <div class="footer">
            <p>Generated using AI Compliance Documentation Generator</p>
            <p>Generated on {{ generated_at.strftime('%Y-%m-%d %H:%M') }}</p>
        </div>
    </div>
</body>
</html> 